# 曲线 AB 研究项目

这个项目专注于研究动画角色眼部绘制中的眼眶和眼睫毛之间的关系，使用机器学习技术来实现眼睫毛的自动绘制。

## 项目概述

本项目开发了一个神经网络模型，用于研究和预测两条曲线（曲线A代表眼眶，曲线B代表眼睫毛）之间的相对位置关系。这项技术主要应用于：

- 动画角色眼睫毛的自动绘制
- 确保眼睫毛曲线与眼眶轮廓的自然协调
- 提高动画制作效率
- 保持角色眼部表现的一致性

## 技术实现

### 神经网络架构
模型采用多层感知机(MLP)结构：
- 输入层：1个神经元
- 隐藏层1：64个神经元（ReLU激活）
- 隐藏层2：128个神经元（ReLU激活）
- 隐藏层3：64个神经元（ReLU激活）
- 输出层：2个神经元（用于切向和法向偏移量）

模型训练参数：
- 优化器：Adam
- 损失函数：均方误差(MSE)
- 评估指标：平均绝对误差(MAE)

### 数据分析视图

项目提供三种主要的可视化视角：

1. **原始曲线视图**
   - 显示眼眶和眼睫毛在原始坐标系中的形状
   - 蓝线表示眼眶曲线（曲线A）
   - 红线表示眼睫毛曲线（曲线B）
   - 直观展示两条曲线的空间关系

2. **相对位置图**
   - X轴：眼眶曲线的标准化弧长参数（0到1）
   - 蓝线：切向偏移量（前后方向的距离）
   - 红线：法向偏移量（左右方向的距离）
   - 显示眼睫毛相对于眼眶每个位置的偏移情况

3. **3D相对运动视图**
   - X轴：眼眶曲线的标准化弧长参数
   - Y轴：切向偏移量
     - 正值：眼睫毛在眼眶前方
     - 负值：眼睫毛在眼眶后方
   - Z轴：法向偏移量
     - 正值：眼睫毛在眼眶左侧
     - 负值：眼睫毛在眼眶右侧

## 项目依赖

- NumPy：数值计算
- TensorFlow：深度学习框架
- Matplotlib：数据可视化
- SciPy：科学计算
- svg.path：SVG路径处理

## 使用说明

主要研究和实现内容在 `research.ipynb` Jupyter笔记本中，包括：
- 数据预处理和曲线分析
- 模型训练和评估
- 结果可视化
- 详细的方法说明

## 实现效果

该模型能够：
1. 学习眼眶和眼睫毛之间的位置关系模式
2. 根据眼眶曲线预测眼睫毛的位置偏移
3. 通过多个视角展示复杂的空间关系
4. 自动生成符合角色风格的眼睫毛曲线

## 应用场景

- 动画制作中的角色眼部绘制
- 批量处理多个角色的眼睫毛绘制
- 保持同一角色在不同场景中的眼睫毛风格一致性
- 为新手动画师提供眼睫毛绘制参考

## 版权说明

本项目是Kigland Research计划的一部分。保留所有权利。
